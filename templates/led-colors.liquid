{% for instance in currentClass.instances %}{%
    assign instanceName = instance.name | downcase | underscore_spaces %}
    {{instanceName}} = Led(name='{{instance.systemName}}'){%
endfor %}

    @staticmethod
    def mix_colors({%
for group in currentClass.groups%}{{ group.name | downcase | underscore_spaces }}{%
    unless forloop.last %}, {% endunless %}{%
endfor %}):{%
for group in currentClass.groups %}{%
    assign groupName = group.name | downcase | underscore_spaces %}{%
    for instance in group.entries %}{%
        assign instanceName = instance | downcase | underscore_spaces %}
        Leds.{{instanceName}}.brightness_pct = {{groupName}}{%
    endfor %}{%
endfor %}
{% for color in currentClass.colors %}{%
    assign colorName = color.name | downcase | underscore_spaces %}
    @staticmethod
    def set_{{ colorName }}(pct):
        Leds.mix_colors({%
    for group in color.groups %}{{ group.name | downcase | underscore_spaces }}={{ group.value }} * pct{%
        unless forloop.last %}, {% endunless %}{%
    endfor %})

    @staticmethod
    def {{ colorName }}_on():
        Leds.set_{{ colorName }}(1)
{% endfor %}
    @staticmethod
    def all_off():{%
for instance in currentClass.instances %}{%
    assign instanceName = instance.name | downcase | underscore_spaces %}
        Leds.{{instanceName}}.brightness = 0{%
endfor %}

